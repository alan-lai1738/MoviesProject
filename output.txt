Sun Mar 14 14:12:21 PDT 2021
Linux csslab1.uwb.edu 3.10.0-1160.11.1.el7.x86_64 #1 SMP Fri Dec 18 16:34:56 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux
uid=995453(alanlai) gid=2120995453(alanlai) groups=2120995453(alanlai),605559(lab-access)
=====================================================
1. Compiles without warnings with -Wall -Wextra flags
=====================================================
=====================================================
2. Runs and produces correct output
=====================================================
ERROR: Invalid Movie Type: Z
ERROR: Invalid Movie Type: Z
____________________[Viewing Inventory]____________________
[Annie Hall] Comedy | 1977 | By Woody Allen | 10 copies available / 0 copies currently being borrowed.
[Fargo] Comedy | 1996 | By Joel Coen | 10 copies available / 0 copies currently being borrowed.
[National Lampoon's Animal House] Comedy | 1978 | By John Landis | 10 copies available / 0 copies currently being borrowed.
[Pirates of the Caribbean] Comedy | 2000 | By Different Years | 10 copies available / 0 copies currently being borrowed.
[Pirates of the Caribbean] Comedy | 2003 | By Gore Verbinski | 10 copies available / 0 copies currently being borrowed.
[Sleepless in Seattle] Comedy | 1993 | By Nora Ephron | 10 copies available / 0 copies currently being borrowed.
[When Harry Met Sally] Comedy | 1989 | By Rob Reiner | 10 copies available / 0 copies currently being borrowed.
[You've Got Mail] Comedy | 1998 | By Nora Ephron | 10 copies available / 0 copies currently being borrowed.
[Good Morning Vietnam] Drama | 1988 | By Barry Levinson | 10 copies available / 0 copies currently being borrowed.
[Same Director Good Morning Vietnam] Drama | 1988 | By Barry Levinson | 10 copies available / 0 copies currently being borrowed.
[Unforgiven] Drama | 1992 | By Clint Eastwood | 10 copies available / 0 copies currently being borrowed.
[Good Will Hunting] Drama | 2000 | By Gus Van Sant | 10 copies available / 0 copies currently being borrowed.
[Silence of the Lambs] Drama | 1991 | By Jonathan Demme | 10 copies available / 0 copies currently being borrowed.
[Dogfight] Drama | 1991 | By Nancy Savoca | 10 copies available / 0 copies currently being borrowed.
[King of Hearts] Drama | 1967 | By Phillippe De Broca | 10 copies available / 0 copies currently being borrowed.
[Schindler's List] Drama | 1993 | By Steven Spielberg | 10 copies available / 0 copies currently being borrowed.
[Holiday] Classic | 9/1938 | By George Cukor | Featuring Cary Grant | 10 copies available / 0 copies currently being borrowed.
[Holiday] Classic | 9/1938 | By George Cukor | Featuring Katherine Hepburn | 10 copies available / 0 copies currently being borrowed.
[Gone With the Wind] Classic | 2/1939 | By Victor Fleming | Featuring Clark Gable | 10 copies available / 0 copies currently being borrowed.
[Gone With the Wind] Classic | 2/1939 | By Victor Fleming | Featuring Vivien Leigh | 10 copies available / 0 copies currently being borrowed.
[The Wizard of Oz] Classic | 7/1939 | By Victor Fleming | Featuring Judy Garland | 10 copies available / 0 copies currently being borrowed.
[The Philadelphia Story] Classic | 5/1940 | By George Cukor | Featuring Cary Grant | 10 copies available / 0 copies currently being borrowed.
[The Philadelphia Story] Classic | 5/1940 | By George Cukor | Featuring Katherine Hepburn | 10 copies available / 0 copies currently being borrowed.
[The Maltese Falcon] Classic | 10/1941 | By John Huston | Featuring Humphrey Bogart | 10 copies available / 0 copies currently being borrowed.
[Casablanca] Classic | 8/1942 | By Michael Curtiz | Featuring Humphrey Bogart | 10 copies available / 0 copies currently being borrowed.
[Casablanca] Classic | 8/1942 | By Michael Curtiz | Featuring Ingrid Bergman | 10 copies available / 0 copies currently being borrowed.
[It's a Wonderful Life] Classic | 11/1946 | By Frank Capra | Featuring Donna Reed | 10 copies available / 0 copies currently being borrowed.
[It's a Wonderful Life] Classic | 11/1946 | By Frank Capra | Featuring James Steward | 10 copies available / 0 copies currently being borrowed.
[A Clockwork Orange] Classic | 2/1971 | By Stanley Kubrick | Featuring Malcolm McDowell | 10 copies available / 0 copies currently being borrowed.
[Harold and Maude] Classic | 3/1971 | By Hal Ashby | Featuring Ruth Gordon | 10 copies available / 0 copies currently being borrowed.
____________________[Displaying Mouse Minnie's History]____________________
History is Empty!
____________________[Displaying Frog Freddie's History]____________________
History is Empty!
____________________[Displaying Wacky Wally's History]____________________
History is Empty!
ERROR: Invalid Movie Type: Z
X is an invalid transaction type.
Z is an invalid transaction type.
ERROR: Invalid Customer ID: 1234
ERROR: Comedy Movie: Bogus Title, 2001 Not Found!
ERROR: Invalid Media Type:Z
ERROR: Insufficient stock of Harold and Maude, 3 1971
ERROR: Insufficient stock of Harold and Maude, 3 1971
ERROR: Insufficient stock of Harold and Maude, 3 1971
ERROR: Drama Movie: Bogus Title by Steven Spielberg Not Found!
____________________[Viewing Inventory]____________________
[Annie Hall] Comedy | 1977 | By Woody Allen | 9 copies available / 1 copies currently being borrowed.
[Fargo] Comedy | 1996 | By Joel Coen | 9 copies available / 1 copies currently being borrowed.
[National Lampoon's Animal House] Comedy | 1978 | By John Landis | 9 copies available / 1 copies currently being borrowed.
[Pirates of the Caribbean] Comedy | 2000 | By Different Years | 10 copies available / 0 copies currently being borrowed.
[Pirates of the Caribbean] Comedy | 2003 | By Gore Verbinski | 10 copies available / 0 copies currently being borrowed.
[Sleepless in Seattle] Comedy | 1993 | By Nora Ephron | 9 copies available / 1 copies currently being borrowed.
[When Harry Met Sally] Comedy | 1989 | By Rob Reiner | 9 copies available / 1 copies currently being borrowed.
[You've Got Mail] Comedy | 1998 | By Nora Ephron | 9 copies available / 1 copies currently being borrowed.
[Good Morning Vietnam] Drama | 1988 | By Barry Levinson | 9 copies available / 1 copies currently being borrowed.
[Same Director Good Morning Vietnam] Drama | 1988 | By Barry Levinson | 10 copies available / 0 copies currently being borrowed.
[Unforgiven] Drama | 1992 | By Clint Eastwood | 9 copies available / 1 copies currently being borrowed.
[Good Will Hunting] Drama | 2000 | By Gus Van Sant | 9 copies available / 1 copies currently being borrowed.
[Silence of the Lambs] Drama | 1991 | By Jonathan Demme | 9 copies available / 1 copies currently being borrowed.
[Dogfight] Drama | 1991 | By Nancy Savoca | 8 copies available / 2 copies currently being borrowed.
[King of Hearts] Drama | 1967 | By Phillippe De Broca | 9 copies available / 1 copies currently being borrowed.
[Schindler's List] Drama | 1993 | By Steven Spielberg | 9 copies available / 1 copies currently being borrowed.
[Holiday] Classic | 9/1938 | By George Cukor | Featuring Cary Grant | 9 copies available / 1 copies currently being borrowed.
[Holiday] Classic | 9/1938 | By George Cukor | Featuring Katherine Hepburn | 10 copies available / 0 copies currently being borrowed.
[Gone With the Wind] Classic | 2/1939 | By Victor Fleming | Featuring Clark Gable | 10 copies available / 0 copies currently being borrowed.
[Gone With the Wind] Classic | 2/1939 | By Victor Fleming | Featuring Vivien Leigh | 10 copies available / 0 copies currently being borrowed.
[The Wizard of Oz] Classic | 7/1939 | By Victor Fleming | Featuring Judy Garland | 10 copies available / 0 copies currently being borrowed.
[The Philadelphia Story] Classic | 5/1940 | By George Cukor | Featuring Cary Grant | 9 copies available / 1 copies currently being borrowed.
[The Philadelphia Story] Classic | 5/1940 | By George Cukor | Featuring Katherine Hepburn | 9 copies available / 1 copies currently being borrowed.
[The Maltese Falcon] Classic | 10/1941 | By John Huston | Featuring Humphrey Bogart | 9 copies available / 1 copies currently being borrowed.
[Casablanca] Classic | 8/1942 | By Michael Curtiz | Featuring Humphrey Bogart | 10 copies available / 0 copies currently being borrowed.
[Casablanca] Classic | 8/1942 | By Michael Curtiz | Featuring Ingrid Bergman | 10 copies available / 0 copies currently being borrowed.
[It's a Wonderful Life] Classic | 11/1946 | By Frank Capra | Featuring Donna Reed | 10 copies available / 0 copies currently being borrowed.
[It's a Wonderful Life] Classic | 11/1946 | By Frank Capra | Featuring James Steward | 10 copies available / 0 copies currently being borrowed.
[A Clockwork Orange] Classic | 2/1971 | By Stanley Kubrick | Featuring Malcolm McDowell | 9 copies available / 1 copies currently being borrowed.
[Harold and Maude] Classic | 3/1971 | By Hal Ashby | Featuring Ruth Gordon | 0 copies available / 10 copies currently being borrowed.
____________________[Displaying Mouse Minnie's History]____________________
Mouse Minnie borrowed 'Harold and Maude' which is a Classic movie by Hal Ashby
Mouse Minnie borrowed 'The Philadelphia Story' which is a Classic movie by George Cukor
Mouse Minnie borrowed 'Good Will Hunting' which is a Classic movie by Gus Van Sant
Mouse Minnie borrowed 'The Philadelphia Story' which is a Classic movie by George Cukor
____________________[Displaying Mouse Mickey's History]____________________
Mouse Mickey borrowed 'Holiday' which is a Classic movie by George Cukor
Mouse Mickey borrowed 'The Maltese Falcon' which is a Classic movie by John Huston
Mouse Mickey borrowed 'Harold and Maude' which is a Classic movie by Hal Ashby
____________________[Displaying Frog Freddie's History]____________________
Frog Freddie borrowed 'Harold and Maude' which is a Classic movie by Hal Ashby
Frog Freddie returned 'Harold and Maude' which is a Classic movie by Hal Ashby
Frog Freddie borrowed 'Harold and Maude' which is a Classic movie by Hal Ashby
Frog Freddie returned 'Harold and Maude' which is a Classic movie by Hal Ashby
Frog Freddie borrowed 'Harold and Maude' which is a Classic movie by Hal Ashby
Frog Freddie returned 'Harold and Maude' which is a Classic movie by Hal Ashby
____________________[Displaying Wacky Wally's History]____________________
Wacky Wally borrowed 'National Lampoon's Animal House' which is a Classic movie by John Landis
Wacky Wally borrowed 'Harold and Maude' which is a Classic movie by Hal Ashby
Wacky Wally borrowed 'Harold and Maude' which is a Classic movie by Hal Ashby
Wacky Wally returned 'You've Got Mail' which is a Comedy movie by Nora Ephron
____________________[Displaying Pig Porky's History]____________________
Pig Porky borrowed 'Harold and Maude' which is a Classic movie by Hal Ashby
Pig Porky borrowed 'Dogfight' which is a Classic movie by Nancy Savoca
Pig Porky borrowed 'Silence of the Lambs' which is a Classic movie by Jonathan Demme
Pig Porky borrowed 'When Harry Met Sally' which is a Classic movie by Rob Reiner
=====================================================
3. clang-tidy warnings are fixed
=====================================================
14722 warnings generated.
31429 warnings generated.
47887 warnings generated.
64849 warnings generated.
78851 warnings generated.
90826 warnings generated.
Suppressed 90826 warnings (90826 in non-user code).
Use -header-filter=.* to display errors from all non-system headers. Use -system-headers to display errors from system headers as well.
=====================================================
4. clang-format does not find any formatting issues
=====================================================
Running clang-format on ./Customer.cpp
Running clang-format on ./Inventory.cpp
34c34
<                                      majActorLastName, relMonth, relYear);
---
>                             majActorLastName, relMonth, relYear);
112,117c112,117
<       cerr << "ERROR: Insufficient stock of "
<            << classicMovieShelf[index]->getTitle() << ", "
<            << classicMovieShelf[index]->getReleaseMonth() << " "
<            << classicMovieShelf[index]->getReleaseYear() << endl;
<       return false;
<   } 
---
>     cerr << "ERROR: Insufficient stock of "
>          << classicMovieShelf[index]->getTitle() << ", "
>          << classicMovieShelf[index]->getReleaseMonth() << " "
>          << classicMovieShelf[index]->getReleaseYear() << endl;
>     return false;
>   }
126,131c126,131
<     } 
<       cerr << "ERROR: Insufficient stock of "
<            << comedyMovieShelf[index]->getTitle() << ", "
<            << comedyMovieShelf[index]->getReleaseYear() << endl;
<       return false;
<   } 
---
>     }
>     cerr << "ERROR: Insufficient stock of "
>          << comedyMovieShelf[index]->getTitle() << ", "
>          << comedyMovieShelf[index]->getReleaseYear() << endl;
>     return false;
>   }
140,144c140,144
<     } 
<       cerr << "ERROR: Insufficient stock of "
<            << dramaMovieShelf[index]->getTitle() << ", "
<            << dramaMovieShelf[index]->getReleaseYear() << endl;
<       return false;
---
>     }
>     cerr << "ERROR: Insufficient stock of "
>          << dramaMovieShelf[index]->getTitle() << ", "
>          << dramaMovieShelf[index]->getReleaseYear() << endl;
>     return false;
Running clang-format on ./main.cpp
Running clang-format on ./Store.cpp
Running clang-format on ./store_test.cpp
Running clang-format on ./Transaction.cpp
=====================================================
5. No memory leaks using g++
=====================================================
=====================================================
6. No memory leaks using valgrind, look for "definitely lost" 
=====================================================
==12948== Memcheck, a memory error detector
==12948== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==12948== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
==12948== Command: ./a.out
==12948== Parent PID: 12623
==12948== 
==12948== 
==12948== HEAP SUMMARY:
==12948==     in use at exit: 14,383 bytes in 160 blocks
==12948==   total heap usage: 2,839 allocs, 2,679 frees, 190,921 bytes allocated
==12948== 
==12948== LEAK SUMMARY:
==12948==    definitely lost: 1,512 bytes in 13 blocks
==12948==    indirectly lost: 12,871 bytes in 147 blocks
==12948==      possibly lost: 0 bytes in 0 blocks
==12948==    still reachable: 0 bytes in 0 blocks
==12948==         suppressed: 0 bytes in 0 blocks
==12948== Rerun with --leak-check=full to see details of leaked memory
==12948== 
==12948== For lists of detected and suppressed errors, rerun with: -s
==12948== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
=====================================================
7. Tests have full code coverage
=====================================================
File '/home/NETID/alanlai/2021wi343b-movie-schau623/Customer.cpp':
Name                                                Regions    Miss   Cover     Lines    Miss   Cover
-----------------------------------------------------------------------------------------------------
Customer::Customer(std::string, std::string, int)         1       0 100.00%         5       0 100.00%
Customer::addToHistory(Transaction*)                      1       0 100.00%         1       0 100.00%
Customer::getFirstName() const                            1       0 100.00%         1       0 100.00%
Customer::getLastName() const                             1       0 100.00%         1       0 100.00%
Customer::getCustomerID() const                           1       1   0.00%         1       1   0.00%
Customer::printHistory()                                  7       0 100.00%        12       0 100.00%
Customer::addBorrowed(char, int)                          1       0 100.00%         3       0 100.00%
Customer::returnADVD(char, int)                           8       8   0.00%         9       9   0.00%
Customer::isCurrentlyBorrowing(char, int)                 1       0 100.00%         4       0 100.00%
-----------------------------------------------------------------------------------------------------
TOTAL                                                    22       9  59.09%        37      10  72.97%

File '/home/NETID/alanlai/2021wi343b-movie-schau623/Inventory.cpp':
Name                                                                                                                                             Regions    Miss   Cover     Lines    Miss   Cover
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Inventory::addDramaMovie(int const&, std::string const&, std::string const&, int const&)                                                               5       1  80.00%        10       3  70.00%
Inventory::addComedyMovie(int const&, std::string const&, std::string const&, int const&)                                                              5       1  80.00%        10       3  70.00%
Inventory::addClassicMovie(int const&, std::string const&, std::string const&, std::string const&, std::string const&, int const&, int const&)         5       1  80.00%        11       3  72.73%
Inventory::peekClassicMovie(int const&) const                                                                                                          6       1  83.33%         7       3  57.14%
Inventory::peekComedyMovie(int const&) const                                                                                                           6       1  83.33%         7       3  57.14%
Inventory::peekDramaMovie(int const&) const                                                                                                            6       1  83.33%         7       3  57.14%
Inventory::getClassicIndex(int const&, int const&, std::string const&, std::string const&)                                                            13       1  92.31%        11       0 100.00%
Inventory::getComedyIndex(int const&, std::string const&)                                                                                              9       0 100.00%         9       0 100.00%
Inventory::getDramaIndex(std::string const&, std::string const&)                                                                                       9       0 100.00%         9       0 100.00%
Inventory::borrowMovie(std::string const&, int const&)                                                                                                19       3  84.21%        46      12  73.91%
Inventory::returnMovie(std::string const&, int const&)                                                                                                 7       1  85.71%        19       4  78.95%
Inventory::sortByDrama(DramaMovie*, DramaMovie*)                                                                                                       1       0 100.00%         3       0 100.00%
Inventory::sortByComedy(ComedyMovie*, ComedyMovie*)                                                                                                    1       0 100.00%         3       0 100.00%
Inventory::sortByClassic(ClassicMovie*, ClassicMovie*)                                                                                                 1       0 100.00%         3       0 100.00%
Inventory::sortMovies()                                                                                                                                1       0 100.00%         5       0 100.00%
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
TOTAL                                                                                                                                                 94      11  88.30%       160      34  78.75%

File '/home/NETID/alanlai/2021wi343b-movie-schau623/main.cpp':
Name                                                                                                                                             Regions    Miss   Cover     Lines    Miss   Cover
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
main                                                                                                                                                   1       0 100.00%        18       0 100.00%
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
TOTAL                                                                                                                                                  1       0 100.00%        18       0 100.00%

File '/home/NETID/alanlai/2021wi343b-movie-schau623/Store.cpp':
Name                                                                                                                                             Regions    Miss   Cover     Lines    Miss   Cover
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Store::Store()                                                                                                                                         1       0 100.00%         1       0 100.00%
Store::fillCustomerDatabase(std::string const&)                                                                                                        8       1  87.50%        22       2  90.91%
Store::stockDVDShelves(std::string const&)                                                                                                            23       1  95.65%        47       2  95.74%
Store::readTransactions(std::string const&)                                                                                                          105      28  73.33%       298      85  71.48%
Store::displayInventory()                                                                                                                              1       0 100.00%         4       0 100.00%
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
TOTAL                                                                                                                                                138      30  78.26%       372      89  76.08%

File '/home/NETID/alanlai/2021wi343b-movie-schau623/store_test.cpp':
Name                                                                                                                                             Regions    Miss   Cover     Lines    Miss   Cover
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
testStore1()                                                                                                                                           3       3   0.00%        19      19   0.00%
testStore2()                                                                                                                                           1       1   0.00%         4       4   0.00%
testStoreFinal()                                                                                                                                       1       1   0.00%         6       6   0.00%
testAll()                                                                                                                                              1       1   0.00%         5       5   0.00%
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
TOTAL                                                                                                                                                  6       6   0.00%        34      34   0.00%

File '/home/NETID/alanlai/2021wi343b-movie-schau623/Transaction.cpp':
Name                                                                                                                                             Regions    Miss   Cover     Lines    Miss   Cover
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Transaction::Transaction(char const&, std::string const&, std::string const&, std::string const&, char const&)                                        11       2  81.82%        24       4  83.33%
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
TOTAL                                                                                                                                                 11       2  81.82%        24       4  83.33%
=====================================================
The lines below were never executed
=====================================================
   27|      0|  explicit ClassicMovie(ClassicMovie *other) : Movie(other->getStockAmt(), other->getTitle(), other->getDirector(), other->getReleaseYear()){
   28|      0|    this->releaseMonth = other->getReleaseMonth();
   29|      0|    this->majorActorFirst = other->getMajorActorFirst();
   30|      0|    this->majorActorLast = other->getMajorActorLast();
   31|      0|    this->type = 'C';
   32|      0|  }
   58|      0|  bool greaterThan(Movie *other) const override {
   59|      0|    if (equals(other)) {
   60|      0|      return false;
   61|      0|    }
   62|      0|    return (!lessThan(other));
   63|      0|  }
   69|      0|      return false;
   70|      0|    }
   78|      0|      return releaseMonth < rhs->getReleaseMonth();
   79|      0|    }
   85|      0|    return false;
   86|      0|  }
   32|      0|  bool greaterThan(Movie *m) const override { return (!lessThan(m)); }
   36|      0|      return false;
   37|      0|    }
   44|      0|    return false;
   45|      0|  }
   15|      0|int Customer::getCustomerID() const { return customerID; }
   34|      0|void Customer::returnADVD(char movieType, int movieIndex) {
   35|      0|  for (int i = 0; i < borrowedMovies.size(); i++) {
   36|      0|    if (borrowedMovies[i].first == movieType &&
   37|      0|        borrowedMovies[i].second == movieIndex) {
   38|      0|      borrowedMovies.erase(borrowedMovies.begin() + i);
   39|      0|      return;
   40|      0|    }
   41|      0|  }
   42|      0|}
   33|      0|  bool greaterThan(Movie *m) const override { return (!lessThan(m)); }
   37|      0|      return false;
   38|      0|    }
   45|      0|    return false;
   46|      0|  }
   20|      0|    {
   21|      0|      int index = getIndex(
   22|      0|          key); // We get the key's index, and update the value for that key.
   23|      0|      values[index] = value;
   61|      0|    return -1;
   62|      0|  }
    9|      0|      i->setStock(d->getStockAmt() + i->getStockAmt());
   10|      0|      return;
   11|      0|    }
   21|      0|      i->setStock(f->getStockAmt() + i->getStockAmt());
   22|      0|      return;
   23|      0|    }
   37|      0|      i->setStock(c->getStockAmt() + i->getStockAmt());
   38|      0|      return;
   39|      0|    }
   47|      0|    cerr << "ERROR: Index exceeds ClassicMovieShelf size" << endl;
   48|      0|    return nullptr;
   49|      0|  }
   55|      0|    cerr << "ERROR: Index exceeds ComedyMovieShelf size" << endl;
   56|      0|    return nullptr;
   57|      0|  }
   63|      0|    cerr << "ERROR: Index exceeds DramaMovieShelf size" << endl;
   64|      0|    return nullptr;
   65|      0|  }
  127|      0|      cerr << "ERROR: Insufficient stock of "
  128|      0|           << comedyMovieShelf[index]->getTitle() << ", "
  129|      0|           << comedyMovieShelf[index]->getReleaseYear() << endl;
  130|      0|      return false;
  131|      0|  } 
  141|      0|      cerr << "ERROR: Insufficient stock of "
  142|      0|           << dramaMovieShelf[index]->getTitle() << ", "
  143|      0|           << dramaMovieShelf[index]->getReleaseYear() << endl;
  144|      0|      return false;
  145|      0|  }
  146|      0|  return false;
  147|      0|}
  163|      0|    dramaMovieShelf[index]->setStock(dramaMovieShelf[index]->getStockAmt() + 1);
  164|      0|    dramaMovieShelf[index]->setBorrowed(
  165|      0|        dramaMovieShelf[index]->getBorrowedAmt() - 1);
  166|      0|  }
   13|      0|    cout << "Can't open file " << fileName << endl;
   14|      0|  }
   36|      0|    cout << "Can't open file " << fileName << endl;
   37|      0|  }
   84|      0|    cout << "Can't open file " << fileName << endl;
   85|      0|  }
  123|      0|          {
  124|      0|            cerr << "ERROR: Classic Movie Not Found!" << endl;
  125|      0|          } else // Otherwise, movie exists
  142|      0|                cerr << "ERROR: "
  143|      0|                     << customerDatabase.get(custID)->getFirstName() << " "
  144|      0|                     << customerDatabase.get(custID)->getLastName()
  145|      0|                     << " is not currently borrowing the classic movie "
  146|      0|                     << c->getTitle() << ", " << c->getDirector()
  147|      0|                     << ", so we can't return it." << endl;
  148|      0|              }
  150|      0|            {
  151|      0|              cerr << "ERROR: Invalid Customer ID: " << custID << endl;
  152|      0|            }
  171|      0|            cerr << "ERROR: Comedy Movie: " << title << ", " << year
  172|      0|                 << " Not Found!" << endl;
  191|      0|                cerr << "ERROR: "
  192|      0|                     << customerDatabase.get(custID)->getFirstName() << " "
  193|      0|                     << customerDatabase.get(custID)->getLastName()
  194|      0|                     << " is not currently borrowing the comedy movie "
  195|      0|                     << c->getTitle() << ", " << c->getDirector()
  196|      0|                     << ", so we can't return it." << endl;
  197|      0|              }
  199|      0|            {
  200|      0|              cerr << "ERROR: Invalid Customer ID: " << custID << endl;
  201|      0|            }
  204|      0|          // D Barry Levinson, Good Morning Vietnam,
  205|      0|          string director, title;
  206|      0|          string token;
  207|      0|          vector<string> tokens;
  208|      0|          while (getline(parseLine, token, ',')) {
  209|      0|            if (token[0] == ' ') // Remove beginning space.
  210|      0|            {
  211|      0|              token.erase(0, 1);
  212|      0|            }
  213|      0|            tokens.push_back(token);
  214|      0|          }
  215|      0|          director = tokens[0];
  216|      0|          title = tokens[1];
  217|      0|          int idx = inv->getDramaIndex(director, title);
  218|      0|          if (idx == -1) // If movie not found throw error
  219|      0|          {
  220|      0|            cerr << "ERROR: Drama Movie: " << title << " by " << director
  221|      0|                 << " Not Found!" << endl;
  222|      0|          } else // Otherwise movie exists, continue
  223|      0|          {
  224|      0|            DramaMovie *d = inv->peekDramaMovie(idx);
  225|      0|            if (customerDatabase.contains(
  226|      0|                    custID)) // if customer exists, continue
  227|      0|            {
  228|      0|              if (customerDatabase.get(custID)->isCurrentlyBorrowing('D',
  229|      0|                                                                     idx)) {
  230|      0|                inv->returnMovie(movieType, idx);
  231|      0|                Transaction *t = new Transaction(
  232|      0|                    'D', d->getTitle(), d->getDirector(),
  233|      0|                    customerDatabase.get(custID)->getFirstName() + " " +
  234|      0|                        customerDatabase.get(custID)->getLastName(),
  235|      0|                    transType[0]);
  236|      0|
  237|      0|                customerDatabase.get(custID)->addToHistory(t);
  238|      0|              } else {
  239|      0|                cerr << "ERROR: "
  240|      0|                     << customerDatabase.get(custID)->getFirstName() << " "
  241|      0|                     << customerDatabase.get(custID)->getLastName()
  242|      0|                     << " is not currently borrowing the drama movie "
  243|      0|                     << d->getTitle() << ", " << d->getDirector()
  244|      0|                     << ", so we can't return it." << endl;
  245|      0|              }
  246|      0|            } else // throw error for non existing customer
  247|      0|            {
  248|      0|              cerr << "ERROR: Invalid Customer ID: " << custID << endl;
  249|      0|            }
  250|      0|          }
  251|      0|        } else {
  252|      0|          cerr << "ERROR: Invalid Movie Type: " << movieType << endl;
  253|      0|        }
  255|      0|      else {
  256|      0|        cerr << "ERROR: Invalid Media Type:" << mediaType << endl;
  257|      0|      }
  277|      0|            cerr << "ERROR: Classic Movie Not Found!" << endl;
  326|      0|              cerr << "ERROR: Invalid Customer ID: " << custID << endl;
  327|      0|            }
  360|      0|              cerr << "ERROR: Invalid Customer ID: " << custID << endl;
  361|      0|            }
   15|      0|    movieType = "Drama";
   16|      0|    break;
   18|      0|    cerr << "ERROR: Invalid Movie Type: " << movieType << endl;
   19|      0|    break;
   16|      0|void testStore1() {
   17|      0|  cout << "Start testStore1" << endl;
   18|      0|  // Should do something more, but lets just read files
   19|      0|  // since each implementation will
   20|      0|  string cfile = "testcommands-1.txt";
   21|      0|  stringstream out;
   22|      0|  ifstream fs(cfile);
   23|      0|  assert(fs.is_open());
   24|      0|  char commandType;
   25|      0|  string discard;
   26|      0|  while (fs >> commandType) {
   27|      0|    out << commandType;
   28|      0|    getline(fs, discard);
   29|      0|  }
   30|      0|  fs.close();
   31|      0|  string result = "IHHBRIBBIH";
   32|      0|  assert(out.str() == result);
   33|      0|  cout << "End testStore1" << endl;
   34|      0|}
   36|      0|void testStore2() {
   37|      0|  cout << "Start testStore2" << endl;
   38|      0|  cout << "End testStore2" << endl;
   39|      0|}
   41|      0|void testStoreFinal() {
   42|      0|  cout << "=====================================" << endl;
   43|      0|  cout << "Start testStoreFinal" << endl;
   44|      0|  cout << "End testStoreFinal" << endl;
   45|      0|  cout << "=====================================" << endl;
   46|      0|}
   48|      0|void testAll() {
   49|      0|  testStore1();
   50|      0|  testStore2();
   51|      0|  testStoreFinal();
   52|      0|}
Sun Mar 14 14:13:34 PDT 2021
=====================================================
To create an output.txt file with all the output from this script
Run the below command
      ./create-output.sh > output.txt 2>&1 
=====================================================
